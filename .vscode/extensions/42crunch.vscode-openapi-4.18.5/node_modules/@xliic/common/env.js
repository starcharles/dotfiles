"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.replaceEnv = void 0;
const ENV_VAR_REGEX = /{{([\w.]+)}}/g;
const SECRETS_PREFIX = "secrets.";
function replaceEnv(value, env) {
    return value.replace(ENV_VAR_REGEX, (match, name) => {
        if (name.startsWith(SECRETS_PREFIX)) {
            const key = name.substring(SECRETS_PREFIX.length, name.length);
            return env.secrets.hasOwnProperty(key) ? env.secrets[key] : match;
        }
        return env.default.hasOwnProperty(name) ? env.default[name] : match;
    });
}
exports.replaceEnv = replaceEnv;
//# sourceMappingURL=env.js.map