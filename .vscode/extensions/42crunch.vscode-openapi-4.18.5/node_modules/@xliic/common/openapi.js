"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getServerUrls = exports.getOperation = exports.isOpenapi = exports.isSwagger = void 0;
const oas30_1 = require("./oas30");
const swagger_1 = require("./swagger");
const ref_1 = require("./ref");
function isSwagger(spec) {
    return "swagger" in spec;
}
exports.isSwagger = isSwagger;
function isOpenapi(spec) {
    return "openapi" in spec;
}
exports.isOpenapi = isOpenapi;
function getOperation(oas, path, method) {
    if (method === "trace") {
        if (isOpenapi(oas)) {
            return (0, ref_1.deref)(oas, oas.paths[path])?.[method];
        }
        // swagger does no define 'trace' method
        return undefined;
    }
    return (0, ref_1.deref)(oas, oas.paths[path])?.[method];
}
exports.getOperation = getOperation;
function getServerUrls(oas) {
    return isOpenapi(oas) ? (0, oas30_1.getServerUrls)(oas) : (0, swagger_1.getServerUrls)(oas);
}
exports.getServerUrls = getServerUrls;
//# sourceMappingURL=openapi.js.map