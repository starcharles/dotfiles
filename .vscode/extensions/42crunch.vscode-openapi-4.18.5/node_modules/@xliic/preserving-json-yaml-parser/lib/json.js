"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.visitJson = void 0;
function visitJson(parent, key, node, visitor) {
    if (node.type === "object") {
        visitor.onObjectStart(parent, key, node);
        for (const property of node.children) {
            const [key, value] = property.children;
            visitJson(node, key.value, value, visitor);
        }
        visitor.onObjectEnd();
    }
    else if (node.type === "array") {
        visitor.onArrayStart(parent, key, node);
        node.children.forEach((value, index) => {
            visitJson(node, index, value, visitor);
        });
        visitor.onArrayEnd();
    }
    else {
        visitor.onValue(parent, key, node.value, node.rawValue);
    }
}
exports.visitJson = visitJson;
